language: java

jdk:
  - openjdk11

sudo: false

before_script:
  - chmod +x gradlew
script:
  - ./gradlew check
  - ./gradlew codeCoverageReport

env:
  global:
    - CODECOV_TOKEN=4678d1b8-676a-47d4-92f1-dd5b1f833326

# после выполнения сборки запустить скрипт, который будет собирать статистику по JaCoCo
# Здесь используется сторонний сервис https://codecov.io/
after_success:
  - bash <(curl -s https://codecov.io/bash)

notifications:
  email:
    recipients:
      - semykinru@yandex.ru
    on_success: never # default: change
    on_failure: always # default: always